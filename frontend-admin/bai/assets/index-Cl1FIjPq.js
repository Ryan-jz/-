import{r as p,l as x,B as y,E as l,C as o,D as a,ak as t,aA as V,z as b,ag as k,M as h,O as F}from"./vue-vendor-BRUv3CCy.js";import{u as z}from"./index-D6S6O2v3.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as C}from"./element-plus-BcUKyH_i.js";const E={class:"login-container"},R={class:"login-box"},U={__name:"index",setup(N){const c=V(),g=z(),u=p(null),r=p(!1),s=x({username:"admin",password:"admin123"}),f={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:20,message:"用户名长度在 2 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,max:20,message:"密码长度在5 到 20 个字符",trigger:"blur"}]},m=async()=>{if(await u.value.validate().catch(()=>!1)){r.value=!0;try{await g.login(s),C.success("登录成功"),c.push("/")}catch(e){console.error("登录失败：",e)}finally{r.value=!1}}};return(_,e)=>{const d=t("el-input"),n=t("el-form-item"),v=t("el-button"),w=t("el-form");return b(),y("div",E,[l("div",R,[e[2]||(e[2]=l("div",{class:"login-title"},[l("h2",null,"GF Admin 管理系统"),l("p",null,"基于 GoFrame + Vue3 的后台管理系统")],-1)),o(w,{ref_key:"loginFormRef",ref:u,model:s,rules:f,class:"login-form"},{default:a(()=>[o(n,{prop:"username"},{default:a(()=>[o(d,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=i=>s.username=i),placeholder:"请输入用户名",size:"large","prefix-icon":"User",clearable:""},null,8,["modelValue"])]),_:1}),o(n,{prop:"password"},{default:a(()=>[o(d,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=i=>s.password=i),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":"",onKeyup:k(m,["enter"])},null,8,["modelValue"])]),_:1}),o(n,null,{default:a(()=>[o(v,{type:"primary",size:"large",loading:r.value,class:"login-button",onClick:m},{default:a(()=>[h(F(r.value?"登录中...":"登 录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),e[3]||(e[3]=l("div",{class:"login-tips"},[l("p",null,"默认账号：admin / admin123")],-1))])])}}},G=B(U,[["__scopeId","data-v-2fe9c322"]]);export{G as default};
